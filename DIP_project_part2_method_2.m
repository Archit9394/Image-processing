% clc;clear all;
%
% 
% I1=imread('DSCN0579Color4_C1.png');
% I2=imread('DSCN0576Color4_C1.png');
% I3=imread('DSCN0572Color4_C1.png');
% I4=imread('DSCN0569Color4_C1.png');
% I5=imread('DSCN0566Color4_C1.png');
% I6=imread('DSCN0563Color4_C1.png');
% 
% t1_1=I1(136:144,74:83); t1_2=I1(101:108,231:240);
% t1_3=I1(94:99,359:365); t1_4=I1(231:236,197:203);
% t1_5=I1(269:276,94:107); t1_6=I1(269:272,307:310);
% t1_7=I1(339:345,413:421); t1_8=I1(409:413,343:349);
% t1_9=I1(379:388,239:248); t1_10=I1(416:420,133:138);
% t1_11=I1(181:193,432:438);
% 
% t2_1=I2(172:177,151:157); t2_2=I2(125:129,242:246);
% t2_3=I2(105:109,372:375); t2_4=I2(223:229,445:461);
% t2_5=I2(308:314,371:376); t2_6=I2(218:223,285:291);
% t2_7=I2(264:272,187:192); t2_8=I2(273:277,63:68);
% t2_9=I2(370:376,244:253); t2_10=I2(420:426,376:382);
% t2_11=I2(419:423,135:138);
% 
% t3_1=I3(97:100,192:196); t3_2=I3(106:110,393:400);
% t3_3=I3(160:165,292:296); t3_4=I3(225:229,429:433);
% t3_5=I3(189:194,123:127); t3_6=I3(246:249,225:229);
% t3_7=I3(294:297,326:331); t3_8=I3(335:339,423:427);
% t3_9=I3(403:406,341:344); t3_10=I3(386:390,235:239);
% t3_11=I3(333:338,111:116);
% %  
% t4_1=I4(145:149,119:125); t4_2=I4(133:138,316:320);
% t4_3=I4(185:188,430:434); t4_4=I4(215:219,244:247);
% t4_5=I4(302:306,418:424); t4_6=I4(303:306,306:309);
% t4_7=I4(299:302,170:173); t4_8=I4(271:275,70:73);
% t4_9=I4(410:413,350:353); t4_10=I4(447:452,234:237);
% t4_11=I4(405:408,117:121);
% 
% t5_1=I5(140:143,87:91); t5_2=I5(165:168,194:197);
% t5_3=I5(203:206,304:308); t5_4=I5(128:132,391:395);
% t5_5=I5(289:293,407:410); t5_6=I5(296:301,242:246);
% t5_7=I5(279:285,138:142); t5_8=I5(402:407,94:99);
% t5_9=I5(417:420,201:204); t5_10=I5(397:404,314:318);
% t5_11=I5(371:375,437:440);
% 
% t6_1=I6(63:68,334:341); t6_2=I6(71:74,142:145);
% t6_3=I6(135:138,240:246); t6_4=I6(144:148,429:433);
% t6_5=I6(220:225,333:339); t6_6=I6(212:216,133:137);
% t6_7=I6(320:326,245:249); t6_8=I6(312:316,374:479);
% t6_9=I6(428:434,357:361); t6_10=I6(440:446,206:210);
% t6_11=I6(344:350,142:145);
% 
% t1={t1_1,t1_2,t1_3,t1_4,t1_5,t1_6,t1_7,t1_8,t1_9,t1_10,t1_11};
% t2={t2_1,t2_2,t2_3,t2_4,t2_5,t2_6,t2_7,t2_8,t2_9,t2_10,t2_11};
% t3={t3_1,t3_2,t3_3,t3_4,t3_5,t3_6,t3_7,t3_8,t3_9,t3_10,t3_11};
% t4={t4_1,t4_2,t4_3,t4_4,t4_5,t4_6,t4_7,t4_8,t4_9,t4_10,t4_11};
% t5={t5_1,t5_2,t5_3,t5_4,t5_5,t5_6,t5_7,t5_8,t5_9,t5_10,t5_11};
% t6={t6_1,t6_2,t6_3,t6_4,t6_5,t6_6,t6_7,t6_8,t6_9,t6_10,t6_11};
% 
% t={t1,t2,t3,t4,t5,t6}
% Im={I1,I2,I3,I4,I5,I6}
% 
% for i=1:length(Im)
%     figure(i); imshow(Im{i});
%     Im1{i}=rgb2gray(Im{i});
%         for j=1:11
%              cor=normxcorr2(t{i}{j},Im1{i});
%  %           figure(12+i);
%  %           surf(cor), shading flat
%              [max_C,imax]=max(abs(cor(:)))
%              [ypeak,xpeak]=ind2sub(size(cor),imax(1))
%              figure(i);
%              hold on
%              rectangle('position',[(xpeak-1) (ypeak-1) 1 1],'LineWidth',2,'EdgeColor','b');
%              figure(i);
%              hold on
%              
%         end
%  end